<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Restaurant Menu Form</title>
  <link rel="stylesheet" href="./styles.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
</head>
<body class="menuform">

  <div class="container my-5">
    <h2 class="text-center mb-4">Add Menu Item</h2>
    
    <form id="menuForm" class="p-4 bg-light shadow rounded">
      <div class="row g-3">
        <!-- Category -->
        <div class="col-md-6">
          <label for="category" class="form-label">Category</label>
          <select class="form-select" id="category" name="category" required>
            <option selected disabled>Choose...</option>
            <option value="Veg">Veg</option>
            <option value="Non-Veg">Non-Veg</option>
            <option value="Drinks">Drinks</option>
            <option value="Sweets">Sweets</option>
            <option value="Cakes">Cakes</option>
          </select>
        </div>

        <!-- Cuisine -->
        <div class="col-md-6">
          <label for="cuisine" class="form-label">Cuisine</label>
          <select class="form-select" id="cuisine" name="cuisine" required>
            <option selected disabled>Choose...</option>
            <option value="Indian">Indian</option>
            <option value="Chinese">Chinese</option>
          </select>
        </div>

        <!-- Name -->
        <div class="col-md-6">
          <label for="name" class="form-label">Item Name</label>
          <input type="text" class="form-control" id="name" name="name" required/>
        </div>

        <!-- Price -->
        <div class="col-md-6">
          <label for="price" class="form-label">Price (₹)</label>
          <input type="number" class="form-control" id="price" name="price" min="1" required/>
        </div>
        <!-- OfferPrice -->
        <div class="col-md-6">
          <label for="offerprice" class="form-label">OfferPrice (₹)</label>
          <input type="number" class="form-control" id="offerprice" name="offerprice" min="1" required/>
        </div>

        <!-- offer -->
        <div class="col-md-6">
          <label for="offer" class="form-label">Offer%</label>
          <input type="text" class="form-control" id="offer" name="offer"  required/>
        </div>
        <!-- Quantity -->
        <div class="col-md-6">
          <label for="quantity" class="form-label">Quantity</label>
          <input type="number" class="form-control" id="quantity" name="quantity" min="1" required/>
        </div>

        <!-- Image URL -->
        <div class="col-md-6">
          <label for="image" class="form-label">Image URL</label>
          <input type="url" class="form-control" id="image" name="image" required/>
        </div>

        <!-- Description -->
        <div class="col-12">
          <label for="description" class="form-label">Description</label>
          <textarea class="form-control" id="description" name="description" rows="3" required></textarea>
        </div>

        <!-- Submit Button -->
        <div class="col-12 text-center mt-3">
          <button type="submit" class="btn btn-primary px-4">Add Item</button>
        </div>
      </div>
    </form>
  </div>

<script>
document.getElementById('menuForm').addEventListener('submit', async (e) => {
  e.preventDefault();
  const form = e.target;
  const data = {
    name: form.name.value,
    price: form.price.value,
    description: form.description.value,
    image: form.image.value,
    category: form.category.value,
    cuisine: form.cuisine.value,
    quantity: form.quantity.value,
    offerprice: form.offerprice.value,
    offer: form.offer.value
  };
  
  const res = await fetch('http://localhost:5000/api/menuItem/menuItem', {
    method: 'POST',
    headers: {'Content-Type': 'application/json'},
    body: JSON.stringify(data)
  });
  
  const result = await res.json();
  alert(result.message || (result.success ? 'Item added successfully' : 'Failed to add item'));
  form.reset();
});
</script>

</body>
</html>
